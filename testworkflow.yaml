apiVersion: testworkflows.testkube.io/v1
kind: TestWorkflow
metadata:
  name: calculator-addition-test
  namespace: testkube
spec:
  content:
    git:
      uri: https://github.com/olensmar/testkube-mcp-demo.git
      revision: olensmar/demo
      paths:
      - tests/calculator-addition.postman_collection.json
  container:
    resources:
      requests:
        cpu: 256m
        memory: 128Mi
    workingDir: /data/repo
  steps:
    - name: Run Calculator Addition Tests
      run:
        image: postman/newman:5-alpine
        args:
          - run
          - tests/calculator-addition.postman_collection.json
          - --reporters
          - cli,json
          - --reporter-json-export
          - test-results.json
          - --verbose